package org.example;

/**
 * SpeedTestCommand - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–º –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å
 * –ù–∞—Å–ª–µ–¥—É–µ—Ç –ª–æ–≥–∏–∫—É –æ–±—ã—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ —á–µ—Ä–µ–∑ StartCommand
 */
public class SpeedTestCommand{
    private final SpeedTestHandler speedTestHandler;

    public SpeedTestCommand(SpeedTestHandler speedTestHandler) {
        this.speedTestHandler = speedTestHandler;
    }

    private static final String START_MESSAGE = "üåç *–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Ç–µ—Å—Ç –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å!* üåç\n\n" +
            "‚ö° **–¢–µ—Å—Ç –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–∞–∫—Ü–∏–∏** ‚ö°\n\n" +
            "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–∞—Å–∫–æ–ª—å–∫–æ –±—ã—Å—Ç—Ä–æ –≤—ã –º–æ–∂–µ—Ç–µ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã!\n\n" +
            "üìä **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**\n" +
            "‚Ä¢ –í–∞–º –±—É–¥—É—Ç –ø–æ–∫–∞–∑–∞–Ω—ã –≤–æ–ø—Ä–æ—Å—ã —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –æ—Ç–≤–µ—Ç–æ–≤\n" +
            "‚Ä¢ –û—Ç–≤–µ—á–∞–π—Ç–µ –∫–∞–∫ –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ\n" +
            "‚Ä¢ –í –∫–æ–Ω—Ü–µ –ø–æ–ª—É—á–∏—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –æ—Ç–≤–µ—Ç–æ–≤\n\n" +
            "üéØ **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–∞:**\n" +
            "‚Ä¢ –¢–∞–π–º–µ—Ä –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –≤–∞—à–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤\n" +
            "‚Ä¢ –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–æ–ø—Ä–æ—Å—É –∫–Ω–æ–ø–∫–æ–π \"–î–∞–ª—å—à–µ\"\n" +
            "‚Ä¢ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–º–æ–≥—É—Ç –æ—Ü–µ–Ω–∏—Ç—å –≤–∞—à—É —Ä–µ–∞–∫—Ü–∏—é\n\n" +
            "üöÄ **–ù–∞—á–Ω–µ–º —Ç–µ—Å—Ç –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å?**";

    private static final String NO_BUTTON_CLICK = "üòä **–û—Ç–ª–∏—á–Ω–æ, —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—è—Ç–æ!**\n\n" +
            "üìÖ –í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å –≤ –ª—é–±–æ–µ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è\n\n" +
            "üí° **–ö–æ–≥–¥–∞ –±—É–¥–µ—Ç–µ –≥–æ—Ç–æ–≤—ã:**\n" +
            "‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É /speed_test\n" +
            "‚Ä¢ –ò–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–µ—Å—Ç –≤ –º–µ–Ω—é –±–æ—Ç–∞\n\n" +
            "üåü **–ê –ø–æ–∫–∞ –º–æ–∂–µ—Ç–µ:**\n" +
            "‚Ä¢ –ü—Ä–æ–π—Ç–∏ –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ—Å—Ç –∫–æ–º–∞–Ω–¥–æ–π /start\n" +
            "‚Ä¢ –ò–∑—É—á–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ /help\n\n" +
            "üïê **–í–µ—Ä–Ω–µ–º—Å—è –∫ —Ç–µ—Å—Ç—É, –∫–æ–≥–¥–∞ –≤–∞–º –±—É–¥–µ—Ç —É–¥–æ–±–Ω–æ!**";

    /**
     * startTest - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –∫–Ω–æ–ø–∫–∏ –î–∞/–ù–µ—Ç
     */
    public String startTest() {
        return START_MESSAGE;
    }

    /**
     * handleButtonClick - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–æ–∫ –î–∞/–ù–µ—Ç
     */
    public String handleButtonClick(String callbackData, long chatId) {
        switch (callbackData) {
            case "speed_yes_button": {
                SpeedTestYesButton generator = new SpeedTestYesButton();
                String test = generator.generateTest();
                return speedTestHandler.generateTest(chatId, test);
            }
            case "speed_no_button":
                return NO_BUTTON_CLICK;
            default:
                return "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞";
        }
    }
}
